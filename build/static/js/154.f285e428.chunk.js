"use strict";(self.webpackChunkcliennt=self.webpackChunkcliennt||[]).push([[154],{3845:function(e,t,a){a.d(t,{o:function(){return s},y:function(){return r}});var s=function(e){return new Promise((function(t,a){var s=new FileReader;s.onload=function(e){var a;t(null===(a=e.target)||void 0===a?void 0:a.result)},s.onerror=function(e){a(e)},s.readAsDataURL(e)}))},r=function(e){return"data:image/png;base64,"+e}},4799:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var s=a(4165),r=a(5861),n=a(9439),l=a(9421),i=a(7309),c=a(2791),o=a(6871),d=a(6305),u=a(3153),x=["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],m=a(184);d.kL.register(d.jn,d.ZL,d.vn,d.ST,d.uw,d.f$,d.WY,d.Gu,d.De,d.Dx,d.u,d.DK),d.kL.defaults.font.size=14;var f=function(e){var t=e.month,a=(0,u.CG)((function(e){return e.product})),s=(0,c.useState)([]),r=(0,n.Z)(s,2),l=r[0],i=r[1];return(0,c.useEffect)((function(){var e=document.getElementById("chart").getContext("2d");if(e&&!(l.length<1)){var a=[],s=[];l.forEach((function(e){a.push(e.label),s.push(e.data)}));var r=d.kL.getChart("chart");void 0!==r&&r.destroy();(function(e,a,s,r){var n=new d.kL(e,{type:a,data:{labels:s,datasets:[{label:"G\xfcnl\xfck Toplam Kazan\xe7 (".concat(x[t],")"),data:r,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,ticks:{callback:function(e,t,a){return e+" \u20ba"}}}},plugins:{tooltip:{padding:10,callbacks:{title:function(e){return""}},external:function(e){return e.chart.ctx.font="16px",e}},legend:{labels:{font:{size:14,weight:"700",family:"sans"}}}},layout:{padding:{left:20,top:30,bottom:30}}}})})(e,s.length>3?"line":"bar",a,s)}}),[l]),(0,c.useEffect)((function(){var e=[],t=0,s="";a.salesData.sales.forEach((function(r,n){var l=r.answerAt.toString().split("-")[2].substring(0,2);0===n?(s=l,t=r.totalPrice):s===l?t+=r.totalPrice:(e.push({label:s,data:t}),s=l,t=r.totalPrice),n===a.salesData.sales.length-1&&e.push({label:s,data:t})})),i(e)}),[a.salesData.sales]),(0,m.jsx)("div",{className:"w-full max-w-[750px] ",children:(0,m.jsx)("canvas",{id:"chart"})})};d.kL.register(d.qi,d.jn,d.ZL,d.od,d.vn,d.N0,d.jI,d.ST,d.tt,d.CV,d.Xi,d.ho,d.uw,d.f$,d.WV,d.l7,d.FB,d.RM,d.WY,d.Gu,d.De,d.Dx,d.u,d.DK);var p=function(e){var t=e.chartDatas;return(0,c.useEffect)((function(){var e=document.getElementById("yearly-chart").getContext("2d");if(e&&!(t.length<1)){var a=x,s=[];x.forEach((function(e,a){var r=t.find((function(e){return Number(e.month.toString().split("-")[1])===a}));r?s.push(r.taking):s.push(0)}));var r=d.kL.getChart("yearly-chart");void 0!==r&&r.destroy();s.length;!function(e,t,a,s){new d.kL(e,{type:"doughnut",data:{labels:a,datasets:[{label:"Ayl\u0131k Toplam Kazan\xe7",data:s,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","#EEF1FF","#E80F88","#FAF4B7","#97D2EC","#EBC7E8","#D6CDA4"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"]}]},options:{plugins:{tooltip:{}}}})}(e,0,a,s)}}),[t]),(0,m.jsxs)("div",{className:"w-full pl-5 max-w-[400px] md:max-w-[700px] lg:max-w-[500px]",children:[(0,m.jsxs)("h3",{className:"text-primary font-bold text-center",children:["Ayl\u0131k Toplam Kazan\xe7 ",(new Date).getFullYear()]}),(0,m.jsx)("canvas",{id:"yearly-chart"})]})},h=a(5543),b=a(8316),g=a(6419),w=a(121),v=a(8726),j=a(3845),y=a(8428),N=a(2199),k=a(9555),E=function(){var e=(0,c.useState)([]),t=(0,n.Z)(e,2),a=t[0],d=t[1],x=(0,c.useState)(0),E=(0,n.Z)(x,2),C=E[0],D=E[1],S=(0,c.useState)(new Date),z=(0,n.Z)(S,2),Z=z[0],A=z[1],B=(0,c.useState)(),F=(0,n.Z)(B,2),L=F[0],T=F[1],G=(0,u.CG)((function(e){return e.notification.isLoading})),Y=(0,u.CG)((function(e){return e.product})),K=(0,u.CG)((function(e){return e.user})),M=(0,u.TL)(),P=(0,o.s0)();(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){var a,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M((0,N.wt)({isLoading:!0})),e.prev=1,a=w.A("".concat(h.Y,"/order/@me/sales"),{date:t}),e.next=5,k._7.getSales(a);case 5:r=e.sent,n=r.data,M((0,y.wx)(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,M((0,N.wt)({isLoading:!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();e(Z.toString())}),[Z,M]),(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k._7.getBestSaledProduct();case 3:if(t=e.sent,a=t.data){e.next=7;break}return e.abrupt("return");case 7:r=v.iE([a]),T(r[0]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k._7.getSalesYearly();case 2:t=e.sent,a=t.data,d(a),r=0,a.forEach((function(e){r+=e.taking})),D(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),e()}),[]);return G?(0,m.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,m.jsx)("img",{alt:"",src:b.j8.H})}):(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"w-full sm:px-5 flex flex-row flex-wrap justify-between items-center",children:[Y.salesData.sales.length<1?(0,m.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,m.jsx)(l.Z,{description:"Bu ay sat\u0131\u015f\u0131n\u0131z olmam\u0131\u015f",style:{fontSize:"16px",fontWeight:"700"}})}):(0,m.jsx)(f,{month:Z.getMonth()}),(0,m.jsxs)("div",{className:"flex flex-col items-start mb-5 ml-5 lg:ml-0",children:[(0,m.jsxs)("button",{onClick:function(){return A(new Date(Z.getFullYear(),Z.getMonth()-1))},className:"flex flex-row items-center mb-4",children:[(0,m.jsx)("img",{src:b.ci.tB,alt:"icon",className:"w-5 h-5 mr-3"}),(0,m.jsx)("span",{children:"\xd6nceki Ay"})]}),(0,m.jsxs)("div",{className:"relative  overflow-hidden w-[300px] h-[100px] bg-white rounded-md shadow-md flex flex-row justify-around items-center",children:[(0,m.jsx)("div",{className:"absolute z-0  w-[170px] bg-[#F1CBD7] h-[150px] -left-10 rounded-full "}),(0,m.jsxs)("span",{className:"text-primary z-10 font-bold  text-base",children:[Y.salesData.filterTotalTaking," \u20ba"]}),(0,m.jsx)("span",{className:"text-primary font-bold text-base",children:"Bu Ayl\u0131k Has\u0131lat"})]})]}),(0,m.jsxs)("div",{className:"flex flex-col items-end  lg:ml-0",children:[(0,m.jsxs)("button",{onClick:function(){return A(new Date(Z.getFullYear(),Z.getMonth()+1))},className:"flex flex-row items-center mb-4",children:[(0,m.jsx)("span",{children:"Sonraki Ay"}),(0,m.jsx)("img",{src:b.ci.z,alt:"icon",className:"w-5 h-5 ml-3"})]}),(0,m.jsxs)("div",{className:"relative mb-5 ml-5 overflow-hidden w-[300px] h-[100px] bg-white rounded-md shadow-md flex flex-row justify-around items-center",children:[(0,m.jsx)("div",{className:"absolute z-0 w-[150px] bg-[#CEE1F1] h-[150px] -left-10 rounded-full "}),(0,m.jsxs)("span",{className:"text-primary z-10 font-bold  text-base",children:[Y.salesData.count," "]}),(0,m.jsx)("span",{className:"text-primary font-bold text-base",children:"Bu Ayl\u0131k Sat\u0131\u015f"})]})]})]}),(0,m.jsxs)("div",{className:"w-full sm:px-5 flex flex-row flex-wrap justify-around items-center",children:[(0,m.jsx)("div",{className:"w-[750px]",children:a.length<1?(0,m.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,m.jsx)(l.Z,{description:"Bu y\u0131l sat\u0131\u015f\u0131n\u0131z olmam\u0131\u015f",style:{fontSize:"16px",fontWeight:"700"}})}):(0,m.jsx)(p,{chartDatas:a})}),(0,m.jsxs)("div",{className:"relative mt-5 ml-5 lg:ml-0 overflow-hidden w-[300px] h-[100px] bg-white rounded-md shadow-md flex flex-row justify-around items-center",children:[(0,m.jsx)("div",{className:"absolute z-0  w-[170px] bg-[#F1CBD7] h-[150px] -left-10 rounded-full "}),(0,m.jsxs)("span",{className:"text-primary z-10 font-bold  text-base",children:[C," \u20ba"]}),(0,m.jsx)("span",{className:"text-primary font-bold text-base",children:"Bu Y\u0131ll\u0131k Has\u0131lat"})]}),(0,m.jsxs)("div",{className:"relative mt-5 ml-5 overflow-hidden w-[300px] h-[100px] bg-white rounded-md shadow-md flex flex-row justify-around items-center",children:[(0,m.jsx)("div",{className:"absolute z-0 w-[180px] bg-[#CEE1F1] h-[150px] -left-10 rounded-full "}),(0,m.jsxs)("span",{className:"text-primary z-10 font-bold  text-base",children:[K.user.balance," \u20ba"]}),(0,m.jsx)("span",{className:"text-primary font-bold text-base",children:"Bakiyem"})]})]}),L&&(0,m.jsxs)("div",{className:"w-full mt-5 px-5 ",children:[(0,m.jsx)("h3",{className:"text-primary font-semibold text-base",children:"En \xe7ok Sat\u0131lan \xdcr\xfcn\xfcm"}),(0,m.jsxs)("div",{className:" w-full flex flex-row items-center flex-wrap",children:[L.images&&L.images.length>0?(0,m.jsx)("img",{src:j.y(L.images[0]),alt:"",className:"max-h-[100px]"}):(0,m.jsx)(i.Z,{onClick:function(){L&&(M((0,y.CE)(L)),w.G(P,"".concat(g.eE.y.PRODUCT_EDIT_QUERY_ID,"/").concat(L.id)))},type:"link",children:"Bu \xfcr\xfcne resim eklemek i\xe7in t\u0131kla."}),(0,m.jsxs)("div",{className:" flex flex-row flex-wrap mt-3 sm:mt-0",children:[(0,m.jsxs)("div",{className:"flex flex-col ml-5 items-center mb-3",children:[(0,m.jsx)("span",{className:"whitespace-nowrap border-b border-primary w-[135px] text-center",children:"\xdcr\xfcn Ad\u0131"}),(0,m.jsx)("span",{className:"font-semibold text-primary",children:L.name})]}),(0,m.jsxs)("div",{className:"flex flex-col ml-5 items-center mb-3",children:[(0,m.jsx)("span",{className:"whitespace-nowrap border-b border-primary w-[135px] text-center",children:"\xdcr\xfcn Fiyat\u0131"}),(0,m.jsxs)("span",{className:"font-semibold text-primary",children:[L.price," \u20ba"]})]}),(0,m.jsxs)("div",{className:"flex flex-col ml-5 items-center mb-3",children:[(0,m.jsx)("span",{className:"whitespace-nowrap border-b border-primary w-[135px] text-center",children:"G\xf6r\xfcnt\xfclenme Say\u0131s\u0131"}),(0,m.jsx)("span",{className:"font-semibold text-primary",children:L.showCount})]}),(0,m.jsxs)("div",{className:"flex flex-col ml-5 items-center mb-3",children:[(0,m.jsx)("span",{className:"whitespace-nowrap border-b border-primary w-[135px] text-center",children:"\xdcr\xfcn Sto\u011fu"}),(0,m.jsx)("span",{className:"font-semibold text-primary",children:L.stock})]}),(0,m.jsxs)("div",{className:"flex flex-col ml-5 items-center mb-3",children:[(0,m.jsx)("span",{className:"whitespace-nowrap border-b border-primary w-[135px] text-center",children:"Sat\u0131lan Adet"}),(0,m.jsx)("span",{className:"font-semibold text-primary",children:L.sum})]})]})]})]})]})}}}]);
//# sourceMappingURL=154.f285e428.chunk.js.map