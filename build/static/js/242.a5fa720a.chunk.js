"use strict";(self.webpackChunkcliennt=self.webpackChunkcliennt||[]).push([[242],{9871:function(e,t,r){var n=r(4165),a=r(5861),s=r(9439),i=r(7561),c=r(7309),o=r(2791),l=r(6871),d=r(8316),u=r(6419),f=r(4183),x=r(3845),m=r(121),h=r(3153),p=r(8428),b=r(9555),v=r(184);t.Z=function(e){var t,r,j=e.product,w=e.editable,g=(0,o.useState)(!1),y=(0,s.Z)(g,2),N=y[0],Z=y[1],k=(0,h.CG)((function(e){return e.user})),C=(0,h.CG)((function(e){return e.product})),S=j.images&&x.y(j.images[0]),P=(0,h.TL)(),E=(0,l.s0)(),A=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=10;break}return e.next=4,b._7.addProduuctToFavorites({productId:j.id});case 4:t=e.sent,r=t.data,P((0,p.a3)(r)),Z(!0),e.next=13;break;case 10:return e.next=12,b._7.removeProductToFavorites(j.id);case 12:P((0,p.Ni)({id:j.id}));case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.user.role!==u.hN.u.Customer){e.next=10;break}return e.prev=1,e.next=4,b._7.updateProductById(j.id,{showCount:1});case 4:P((0,p.ZE)({id:j.id})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:m.G(E,"/product/".concat(j.id)),P((0,p.CE)(j));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){if(k.user.role===f.u.Customer||C.favorites){var e=C.favorites.find((function(e){return e.productId.id===j.id}));Z(!!e)}}),[j,C.favorites,k]),(0,v.jsxs)("div",{className:"relative min-w-[17rem]  w-80 shadow-md bg-white p-3 m-3 rounded-md  flex flex-col cursor-pointer hover:shadow-xl transition-shadow duration-300",children:[(0,v.jsx)("div",{onClick:w?function(){m.G(E,"".concat(u.eE.y.PRODUCT_EDIT_QUERY_ID,"/").concat(j.id)),P((0,p.CE)(j))}:A,className:"absolute top-1 right-1 w-8 h-8 bg-white rounded-full flex justify-center items-center ".concat(w||k.user.role===u.hN.u.Customer?"":"hidden"," "),children:(0,v.jsx)("img",{src:w?d.ci.eP:N?d.ci.t1:d.ci.S3,className:"w-4 h-4",alt:"fav"})}),(0,v.jsx)("div",{className:"flex h-[100px] justify-center mb-1 w-full border-b",children:S?(0,v.jsx)("img",{src:S,alt:"asd",className:"w-full object-contain max-h-[100px] "}):(0,v.jsx)("span",{className:"text-red-700 italic ",children:"\xdcr\xfcne ait bir resim mevcut de\u011fil."})}),(0,v.jsxs)("div",{onClick:T,className:"flex flex-col mb-3",children:[(0,v.jsx)("span",{className:"text-orange font-semibold text-lg  cursor-pointer",children:j.name}),j.ownerId?(0,v.jsxs)("span",{className:"text-thirdy text-[.65rem] italic mb-2",children:[null===(t=j.ownerId)||void 0===t?void 0:t.firstName.concat(" ",null===(r=j.ownerId)||void 0===r?void 0:r.lastName)," ","taraf\u0131ndan"]}):null,(0,v.jsxs)("div",{className:"flex flex-row flex-wrap items-center justify-between",children:[(0,v.jsxs)("span",{className:"text-secondary font-semibold text-lg",children:[j.price," \u20ba"]}),j.stock<50&&(0,v.jsxs)("span",{className:"text-thirdy text-xs",children:["Kalan Stok: ",j.stock]})]}),(0,v.jsxs)("div",{className:"flex flex-row items-center justify-between flex-wrap",children:[(0,v.jsxs)("div",{className:"flex flex-row items-center",children:[(0,v.jsx)(i.Z,{allowHalf:!0,disabled:!0,defaultValue:j.ratingPoint}),(0,v.jsxs)("span",{className:"pt-1 ml-2 text-thirdy",children:["(",j.ratingCount,")"]})]}),(0,v.jsx)(c.Z,{onClick:T,className:"hover:!bg-blue-400 hover:!text-light",children:"G\xf6r\xfcnt\xfcle"})]})]})]})}},3845:function(e,t,r){r.d(t,{o:function(){return n},y:function(){return a}});var n=function(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){var r;t(null===(r=e.target)||void 0===r?void 0:r.result)},n.onerror=function(e){r(e)},n.readAsDataURL(e)}))},a=function(e){return"data:image/png;base64,"+e}},9242:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var n=r(4942),a=r(1413),s=r(4165),i=r(5861),c=r(9439),o=r(6014),l=r(7382),d=r(7309),u=r(141),f=r(2791),x=r(6871),m=r(8885),h=r(3188),p=r(5886),b=r(3734),v=r(2014),j=r(5543),w=r(8316),g=r(121),y=r(3153),N=r(2199),Z=r(3211),k={headerStyle:{backgroundColor:"#1D2639",color:"white"},bodyStyle:{backgroundColor:"#f2f2f2"}},C=r(184),S=function(e){var t=e.setVisible,r=e.visible,n=e.title,a=e.setFilterProducts,o=e.setActiveTab,l=(0,f.useState)(!1),u=(0,c.Z)(l,2),x=u[0],S=u[1],P=(0,f.useState)(500),E=(0,c.Z)(P,2),A=E[0],T=E[1],F=(0,y.SO)(),I=(0,y.CG)((function(e){return e.category})),D=(0,y.TL)(),G=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(r){var n,i,c,l,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Number(r.startPrice)>Number(r.endPrice))){e.next=4;break}D((0,N.sc)({isNotification:!0,message:"Hatal\u0131 De\u011fer",description:"Minimum Fiyat Maximum Fiyattan Y\xfcksek Olamaz.",placement:"top",status:"error"})),e.next=25;break;case 4:if(n={},r.categories.length>0&&(i="",r.categories.forEach((function(e,t){0===t?i+=e.value:i=i+","+e.value})),n.categories=i),r.startPrice&&(n.startPrice=r.startPrice),r.endPrice&&(n.endPrice=r.endPrice),r.name&&(n.name=r.name),x&&(n.isShowCount=!0),!(Object.keys(n).length>0)){e.next=24;break}return c=g.A("".concat(j.Y,"/product"),{categories:n.categories?n.categories:"",startPrice:n.startPrice?n.startPrice.toString():"",endPrice:n.endPrice?n.endPrice.toString():"",name:n.name?n.name:"",isShowCount:n.categories?"true":""}),e.prev=12,e.next=15,(0,Z.getProducts)(c);case 15:l=e.sent,d=l.data,a(d),o("Filtre"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(12),console.log(e.t0);case 24:t(!1);case 25:case"end":return e.stop()}}),e,null,[[12,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){F.width<500&&T(320)}),[F]),(0,C.jsx)(m.Z,{closeIcon:(0,C.jsx)("img",{src:w.ci.al,alt:"icon"}),title:(0,C.jsx)("span",{className:"text-white text-lg font-semibold",children:n}),width:A,onClose:function(){return t(!1)},visible:r,headerStyle:k.headerStyle,bodyStyle:k.bodyStyle,children:(0,C.jsxs)(h.Z,{layout:"vertical",onFinish:G,children:[(0,C.jsx)(h.Z.Item,{name:"name",label:"\u0130sme G\xf6re Ara",children:(0,C.jsx)(p.Z.Search,{autoComplete:"off"})}),(0,C.jsx)(h.Z.Item,{name:"categories",label:"Kategori",children:(0,C.jsx)(b.Z,{labelInValue:!0,mode:"multiple",children:I.initialState.map((function(e){return(0,C.jsx)(b.Z.Option,{children:e.name},e.id)}))})}),(0,C.jsxs)("div",{className:"flex flex-row justify-start space-x-4 items-center",children:[(0,C.jsx)(h.Z.Item,{label:"Min Fiyat",name:"startPrice",children:(0,C.jsx)(p.Z,{type:"number",min:0})}),(0,C.jsx)("span",{className:"text-2xl",children:"-"}),(0,C.jsx)(h.Z.Item,{label:"Max Fiyat",name:"endPrice",children:(0,C.jsx)(p.Z,{type:"number",min:0})})]}),(0,C.jsx)(h.Z.Item,{name:"showCount",children:(0,C.jsx)(v.Z,{onChange:function(e){return S(e.target.checked)},children:"En \xc7ok T\u0131klananlar"})}),(0,C.jsx)(h.Z.Item,{children:(0,C.jsx)(d.Z,{htmlType:"submit",children:"Bas"})})]})})},P=r(9421),E=r(9871),A=function(e){var t=e.products,r=((0,y.CG)((function(e){return e.product})),(0,y.TL)());return(0,f.useEffect)((function(){}),[r]),t.length<1&&(P.Z,w.ci.cS),(0,C.jsx)("div",{className:"px-4 flex flex-row flex-wrap",children:t.map((function(e){return(0,C.jsx)(E.Z,{product:e},e.id)}))})},T=function(e){var t=e.products,r=(0,f.useState)(0),n=(0,c.Z)(r,2),a=n[0],s=n[1],i=(0,f.useState)(6),o=(0,c.Z)(i,2),l=o[0],d=o[1],u=(0,f.useState)({isNext:!1,isPrev:!1}),x=(0,c.Z)(u,2),m=x[0],h=x[1],p=(0,y.SO)();(0,f.useEffect)((function(){p.width<600?d(2):p.width<800?d(3):p.width<1200?d(4):p.width>1650?d(6):p.width>1400&&d(5)}),[p]),(0,f.useEffect)((function(){var e=(a+1)*l<t.length;h({isPrev:0!==a,isNext:e})}),[a,l,t.length]);return t.length<1?(0,C.jsx)("div",{className:"mt-5 flex justify-center",children:(0,C.jsx)(P.Z,{description:"\xdcr\xfcn Yok",image:w.ci.cS,imageStyle:{width:"64px",height:"64px"},style:{fontSize:"16px",fontWeight:"700"}})}):(0,C.jsxs)("div",{className:"px-4",children:[(0,C.jsx)("div",{className:" flex flex-row space-x-6  pt-6 pb-3 overflow-x-auto ",children:t.slice(l*a,l*a+l).map((function(e){return(0,C.jsx)(E.Z,{product:e},e.id)}))}),(0,C.jsxs)("div",{className:"mb-3 mt-1 flex flex-row justify-end space-x-2",children:[m.isPrev&&(0,C.jsx)("button",{onClick:function(){s(a-1)},className:"p-2 border border-primary rounded-sm",children:(0,C.jsx)("img",{src:w.ci.tB,alt:"left-icon",className:"w-5 h-5"})}),(0,C.jsx)("div",{className:"p-2 border border-primary",children:(0,C.jsx)("span",{className:"h-5 px-1",children:a+1})}),m.isNext&&(0,C.jsx)("button",{onClick:function(){s(a+1)},className:"p-2 border border-primary rounded-sm",children:(0,C.jsx)("img",{src:w.ci.z,alt:"left-icon",className:"w-5 h-5"})})]})]})},F=function(e,t,r){return"ASC"===r?function(e,t){return e.slice().sort((function(e,r){var n=e[t],a=r[t];return"string"===typeof e[t]&&(n=e[t].toLowerCase(),a=r[t].toLowerCase()),n>a?1:n<a?-1:0}))}(t,e):"createdAt"===e?function(e,t){return e.slice().sort((function(e,r){return new Date(r[t]).getTime()-new Date(e[t]).getTime()}))}(t,e):function(e,t){return e.slice().sort((function(e,r){var n=e[t],a=r[t];return"string"===typeof e[t]&&(n=e[t].toLowerCase(),a=r[t].toLowerCase()),n>a?-1:n<a?1:0}))}(t,e)},I=r(8428),D=r(9555),G=function(){var e=(0,f.useState)("Anasayfa"),t=(0,c.Z)(e,2),r=t[0],m=t[1],h=(0,f.useState)([]),p=(0,c.Z)(h,2),b=p[0],v=p[1],Z=(0,f.useState)(!1),k=(0,c.Z)(Z,2),P=k[0],E=k[1],G=(0,y.CG)((function(e){return e.category.initialState})),L=(0,y.CG)((function(e){return e.product})),Y=(0,y.CG)((function(e){return e.notification.isLoading})),_=(0,y.TL)(),O=(0,x.s0)(),R=["right"];(0,f.useEffect)((function(){var e,t=g.A("",{tab:"Anasayfa"!==r?r:""});g.G(O,t);var n=null===(e=G.find((function(e){return e.name===r})))||void 0===e?void 0:e.id,a=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var r,n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.A("".concat(j.Y,"/product"),{categories:t}),e.prev=1,_((0,N.wt)({isLoading:!0})),e.next=5,D._7.getProducts(r);case 5:n=e.sent,a=n.data,_((0,I.RU)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return e.prev=13,_((0,N.wt)({isLoading:!1})),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();n&&a(n)}),[r]);var M=function(e,t){if("Filtre"===r){var n=F(t,b,e);v(n)}else{var a=F(t,L.products,e);_((0,I.RU)(a))}},U=(0,C.jsx)(o.Z,{selectable:!0,items:[{key:1,label:"Artan Fiyat",onClick:function(){return M("ASC","price")}},{key:2,label:"Azalan Fiyat",onClick:function(){return M("DESC","price")}},{key:3,label:"En Yeniler",onClick:function(){return M("DESC","createdAt")}},{key:4,label:"En \xe7ok T\u0131klanma",onClick:function(){return M("DESC","showCount")}}]}),z={right:(0,C.jsxs)("div",{className:"flex flex-row space-x-3",children:["Anasayfa"!==r&&(0,C.jsx)(l.Z,{overlay:U,trigger:["click"],children:(0,C.jsx)(d.Z,{children:"S\u0131rala"})}),(0,C.jsx)(d.Z,{onClick:function(){return E(!0)},children:"Ara"})]})},B=(0,f.useMemo)((function(){return 0===R.length?null:R.reduce((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},t,z[t]))}),{})}),[r,L.products]);return Y?(0,C.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,C.jsx)("img",{alt:"",src:w.j8.H})}):(0,C.jsxs)("div",{className:"w-full px-4",children:[(0,C.jsxs)(u.Z,{tabBarExtraContent:B,activeKey:r,onChange:function(e){return m(e)},children:[(0,C.jsxs)(u.Z.TabPane,{tab:"Anasayfa",children:[(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsxs)("div",{className:"flex flex-row pl-3",children:[(0,C.jsx)("div",{className:"border-b-2 border-primary w-6 "}),(0,C.jsx)("span",{className:"border-2 border-b-0 border-primary px-3 pb-1  mb-0 w-auto rounded-t-md pt-2 font-semibold text-primary",children:"Trendler"}),(0,C.jsx)("div",{className:"border-b-2 border-primary  w-full "})]}),(0,C.jsx)(T,{products:L.globalDatas.trends},"trend")]}),(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsxs)("div",{className:"flex flex-row pl-3  ",children:[(0,C.jsx)("div",{className:"border-b-2 border-orange w-6 "}),(0,C.jsx)("span",{className:"border-2 border-b-0 whitespace-nowrap border-orange px-3 pb-1  mb-0 w-auto rounded-t-md pt-2 font-semibold text-primary",children:"En Yeniler"}),(0,C.jsx)("div",{className:"border-b-2  border-orange  w-full "})]}),(0,C.jsx)(T,{products:L.globalDatas.new},"new")]}),(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsxs)("div",{className:"flex flex-row pl-3  shadow-secondary",children:[(0,C.jsx)("div",{className:"border-b-2 border-secondary w-6 "}),(0,C.jsx)("span",{className:"border-2 border-b-0 whitespace-nowrap border-secondary px-3 pb-1  mb-0 w-auto rounded-t-md pt-2 font-semibold text-primary",children:"\xc7ok Satanlar"}),(0,C.jsx)("div",{className:"border-b-2  border-secondary  w-full "})]}),(0,C.jsx)(T,{products:L.globalDatas.bestSales},"new")]})]},"Anasayfa"),G.map((function(e){return(0,C.jsx)(u.Z.TabPane,{tab:e.name,children:(0,C.jsx)(A,{products:L.products},e.id)},e.name)})),b.length>0&&(0,C.jsx)(u.Z.TabPane,{tab:"Filtre",children:(0,C.jsx)(A,{products:b},"Filter")},"Filtre")]}),(0,C.jsx)(S,{title:"\xdcr\xfcn Filtreleme",setVisible:E,visible:P,setFilterProducts:v,setActiveTab:m})]})}}}]);
//# sourceMappingURL=242.a5fa720a.chunk.js.map