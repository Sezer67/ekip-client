{"version":3,"file":"static/js/544.d174428f.chunk.js","mappings":"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","sources":["pages/Sales/AllSales.tsx","../node_modules/antd/lib/date-picker/locale/tr_TR.js","../node_modules/antd/lib/time-picker/locale/tr_TR.js","../node_modules/rc-picker/lib/locale/tr_TR.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { Button, DatePicker, Table } from \"antd\";\nimport locale from \"antd/lib/date-picker/locale/tr_TR\";\nimport { ColumnsType } from \"antd/lib/table\";\nimport moment from \"moment\";\nimport \"moment/\";\nimport React, { useEffect, useState } from \"react\";\nimport { gifs } from \"../../constants\";\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\nimport { OrderStateType } from \"../../redux/types/product.type\";\nimport { setIsLoading } from \"../../redux/userSlice/notificationSlice\";\nimport { productService } from \"../../service\";\n\ntype UserDataType = {\n  id: string;\n  username: string;\n};\ntype FilterStatusType = {\n  text: string;\n  value: string;\n};\n\nconst AllSales = () => {\n  const [allSales, setAllSales] = useState<OrderStateType[]>([]);\n  const [filterDatas, setFilterDatas] = useState<{\n    sellerNames: FilterStatusType[];\n    customerNames: FilterStatusType[];\n  }>({ sellerNames: [], customerNames: [] });\n  const [datePick, setDatePick] = useState<{ startDate: Date; endDate: Date }>({\n    startDate: new Date(),\n    endDate: new Date(\n      new Date().getFullYear(),\n      new Date().getMonth(),\n      new Date().getDate()\n    ),\n  });\n\n  const loading = useAppSelector((state) => state.notification.isLoading);\n  const dispatch = useAppDispatch();\n\n  const getData = async () => {\n    try {\n      dispatch(setIsLoading({ isLoading: true }));\n      const { data } = await productService.getAllSalesByDate(datePick);\n      setAllSales(data);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      dispatch(setIsLoading({ isLoading: false }));\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  // set filter datas\n  useEffect(() => {\n    let sellerNames: FilterStatusType[] = [];\n    let customerNames: FilterStatusType[] = [];\n    allSales.forEach((sale) => {\n      const sellerCtrl = sellerNames.find(\n        (name) => name.text === (sale.ownerId as any).username\n      );\n      const customerCtrl = customerNames.find(\n        (name) => name.text === (sale.customerId as any).username\n      );\n      if (!sellerCtrl) {\n        sellerNames.push({\n          text: (sale.ownerId as any).username,\n          value: (sale.ownerId as any).username,\n        });\n      }\n      if (!customerCtrl) {\n        customerNames.push({\n          text: (sale.customerId as any).username,\n          value: (sale.customerId as any).username,\n        });\n      }\n    });\n    setFilterDatas({ customerNames, sellerNames });\n  }, [allSales]);\n\n  const onChangeDate = (values: any) => {\n    setDatePick({\n      startDate: new Date(values[0]._d as string),\n      endDate: new Date(values[1]._d as string),\n    });\n  };\n\n  const disabledDate = (currentDate: any) => {\n    return currentDate && currentDate > moment().endOf(\"day\");\n  };\n  if (loading)\n    return (\n      <div className=\"w-full h-full flex justify-center items-center\">\n        <img alt=\"\" src={gifs.ripple} />\n      </div>\n    );\n\n  const columns: ColumnsType<OrderStateType> = [\n    {\n      title: \"Satıcı\",\n      dataIndex: \"ownerId\",\n      key: \"ownerId\",\n      filters: filterDatas.sellerNames,\n      onFilter: (value, record) => (record.ownerId as any).username === value,\n      render: (value: UserDataType) => <span>{value.username}</span>,\n    },\n    {\n      title: \"Müşteri\",\n      dataIndex: \"customerId\",\n      key: \"customerId\",\n      filters: filterDatas.customerNames,\n      onFilter: (value, record) =>\n        (record.customerId as any).username === value,\n      render: (value: UserDataType) => <span>{value.username}</span>,\n    },\n    {\n      title: \"Ürün Adı\",\n      dataIndex: \"productId\",\n      key: \"productId\",\n      render: (value) => <span>{value.name}</span>,\n    },\n    {\n      title: \"Gelir\",\n      dataIndex: \"totalPrice\",\n      key: \"totalPrice\",\n      sorter: (a, b) => a.totalPrice - b.totalPrice,\n      render: (value) => <span>{value} ₺</span>,\n    },\n    {\n      title: \"Tarih\",\n      dataIndex: \"answerAt\",\n      key: \"answerAt\",\n      render: (value: Date) => (\n        <span>{moment(value).format(\"DD/MM/YYYY HH:mm\")} </span>\n      ),\n    },\n  ];\n\n  return (\n    <div className=\"p-3\">\n      <div className=\"w-full\">\n        <div className=\"flex flex-row flex-wrap items-start\">\n          <DatePicker.RangePicker\n            locale={locale}\n            onChange={onChangeDate}\n            defaultValue={[\n              moment(datePick.startDate, \"YYYY-MM-DD\"),\n              moment(datePick.endDate, \"YYYY-MM-DD\"),\n            ]}\n            disabledDate={disabledDate}\n            className=\"mb-4\"\n          />\n          <Button\n            onClick={getData}\n            className=\"mb-4 mt-4 sm:mt-0 sm:ml-4\"\n            type=\"primary\"\n          >\n            Görüntüle\n          </Button>\n          <div className=\"mt-5 sm:mt-1 ml-4\">\n            <span className=\"font-semibold text-base\">\n              Toplam {allSales.length} sonuç\n            </span>\n          </div>\n        </div>\n        <Table\n          locale={{\n            triggerAsc: \"Artan Sıralama\",\n            triggerDesc: \"Azalan Sıralama\",\n            cancelSort: \"Sıralamayı İptal Et\",\n            filterReset: false,\n            filterConfirm: \"Uygula\",\n          }}\n          dataSource={allSales}\n          columns={columns}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AllSales;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _tr_TR = _interopRequireDefault(require(\"rc-picker/lib/locale/tr_TR\"));\n\nvar _tr_TR2 = _interopRequireDefault(require(\"../../time-picker/locale/tr_TR\"));\n\n// Merge into a locale object\nvar locale = {\n  lang: (0, _extends2[\"default\"])({\n    placeholder: 'Tarih seç',\n    yearPlaceholder: 'Yıl seç',\n    quarterPlaceholder: 'Çeyrek seç',\n    monthPlaceholder: 'Ay seç',\n    weekPlaceholder: 'Hafta seç',\n    rangePlaceholder: ['Başlangıç tarihi', 'Bitiş tarihi'],\n    rangeYearPlaceholder: ['Başlangıç yılı', 'Bitiş yılı'],\n    rangeMonthPlaceholder: ['Başlangıç ayı', 'Bitiş ayı'],\n    rangeWeekPlaceholder: ['Başlangıç haftası', 'Bitiş haftası']\n  }, _tr_TR[\"default\"]),\n  timePickerLocale: (0, _extends2[\"default\"])({}, _tr_TR2[\"default\"])\n}; // All settings at:\n// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json\n\nvar _default = locale;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar locale = {\n  placeholder: 'Zaman seç',\n  rangePlaceholder: ['Başlangıç zamanı', 'Bitiş zamanı']\n};\nvar _default = locale;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar locale = {\n  locale: 'tr_TR',\n  today: 'Bugün',\n  now: 'Şimdi',\n  backToToday: 'Bugüne Geri Dön',\n  ok: 'tamam',\n  clear: 'Temizle',\n  month: 'Ay',\n  year: 'Yıl',\n  timeSelect: 'Zaman Seç',\n  dateSelect: 'Tarih Seç',\n  monthSelect: 'Ay Seç',\n  yearSelect: 'Yıl Seç',\n  decadeSelect: 'On Yıl Seç',\n  yearFormat: 'YYYY',\n  dateFormat: 'M/D/YYYY',\n  dayFormat: 'D',\n  dateTimeFormat: 'M/D/YYYY HH:mm:ss',\n  monthBeforeYear: true,\n  previousMonth: 'Önceki Ay (PageUp)',\n  nextMonth: 'Sonraki Ay (PageDown)',\n  previousYear: 'Önceki Yıl (Control + Sol)',\n  nextYear: 'Sonraki Yıl (Control + Sağ)',\n  previousDecade: 'Önceki On Yıl',\n  nextDecade: 'Sonraki On Yıl',\n  previousCentury: 'Önceki Yüzyıl',\n  nextCentury: 'Sonraki Yüzyıl'\n};\nvar _default = locale;\nexports.default = _default;","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["useState","allSales","setAllSales","sellerNames","customerNames","filterDatas","setFilterDatas","startDate","Date","endDate","getFullYear","getMonth","getDate","datePick","setDatePick","loading","useAppSelector","state","notification","isLoading","dispatch","useAppDispatch","getData","setIsLoading","productService","data","console","log","useEffect","forEach","sale","sellerCtrl","find","name","text","ownerId","username","customerCtrl","customerId","push","value","className","alt","src","gifs","columns","title","dataIndex","key","filters","onFilter","record","render","sorter","a","b","totalPrice","moment","format","locale","onChange","values","_d","defaultValue","disabledDate","currentDate","endOf","onClick","type","length","triggerAsc","triggerDesc","cancelSort","filterReset","filterConfirm","dataSource","_interopRequireDefault","require","exports","_extends2","_tr_TR","_tr_TR2","_default","lang","placeholder","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","rangePlaceholder","rangeYearPlaceholder","rangeMonthPlaceholder","rangeWeekPlaceholder","timePickerLocale","Object","defineProperty","today","now","backToToday","ok","clear","month","year","timeSelect","dateSelect","monthSelect","yearSelect","decadeSelect","yearFormat","dateFormat","dayFormat","dateTimeFormat","monthBeforeYear","previousMonth","nextMonth","previousYear","nextYear","previousDecade","nextDecade","previousCentury","nextCentury","_extends","module","assign","bind","target","i","arguments","source","prototype","hasOwnProperty","call","__esModule","apply","this","obj"],"sourceRoot":""}